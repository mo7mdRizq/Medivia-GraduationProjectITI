import{u as C,r as c,c as f,o as d,a as t,n as x,l as v,i as k,w as m,m as _,d as p,p as V,e as h,j as N,q as T,v as I,g as w}from"./index-BTjpu3oh.js";import{_ as E,a as $}from"./BaseInput-BRXxUcS9.js";import{a as B}from"./BaseButton-BvuxeCsW.js";import{r as P}from"./EnvelopeIcon-BzQDKZVN.js";import{r as j,a as z,b as M}from"./LockClosedIcon-OrE9kF-x.js";const O={class:"grid grid-cols-2 gap-4"},U=["disabled"],L={key:0,class:"mr-2"},R={key:1,src:"https://www.svgrepo.com/show/475656/google-color.svg",class:"h-5 w-5 mr-2",alt:"Google"},D=["disabled"],G={key:0,class:"mr-2"},H={key:1,src:"https://www.svgrepo.com/show/511330/apple-173.svg",class:"h-5 w-5 mr-2",alt:"Apple"},W={__name:"SocialAuthButtons",setup(S){const b=C(),o=c({google:!1,apple:!1}),g={google:{name:"Google User",email:"user@gmail.com",providerName:"Google"},apple:{name:"Apple User",email:"user@icloud.com",providerName:"Apple"}},y=s=>{const r=(window.innerWidth-500)/2,e=(window.innerHeight-600)/2,u=window.open("","Social Login",`width=500,height=600,left=${r},top=${e},resizable=yes,scrollbars=yes,status=yes`);if(u){const i=s==="google"?"#dc2626":"#000000",A=s==="google"?"https://www.svgrepo.com/show/475656/google-color.svg":"https://www.svgrepo.com/show/511330/apple-173.svg";u.document.write(`
      <html>
        <head>
           <title>Sign in with ${s}</title>
           <style>
             body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; background: #f9fafb; }
             .loader { border: 3px solid #f3f3f3; border-radius: 50%; border-top: 3px solid ${i}; width: 40px; height: 40px; animation: spin 1s linear infinite; margin-bottom: 20px; }
             @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
             .logo { width: 60px; height: 60px; margin-bottom: 20px; }
             h2 { color: #1f2937; margin: 0 0 10px 0; font-size: 20px; }
             p { color: #6b7280; margin: 0; font-size: 14px; }
           </style>
        </head>
        <body>
           <img src="${A}" class="logo" />
           <div class="loader"></div>
           <h2>Connecting to ${s==="google"?"Google":"Apple"}</h2>
           <p>Please wait while we verify your credentials...</p>
        </body>
      </html>
    `)}return u},n=async s=>{if(o.value.google||o.value.apple)return;o.value[s]=!0;const l=g[s],a=y(s);await new Promise(r=>setTimeout(r,2500)),a&&!a.closed&&a.close(),o.value[s]=!1,v.success(`Welcome, ${l.name}`,{transition:v.TRANSITIONS.SLIDE,theme:"colored",icon:s==="google"?"ðŸ‡¬":"ï£¿"}),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userName",l.name),localStorage.setItem("userEmail",l.email),setTimeout(()=>{b.push("/")},800)};return(s,l)=>(d(),f("div",O,[t("button",{type:"button",class:x(["flex justify-center items-center w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow transform active:scale-95 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200",{"opacity-70 cursor-not-allowed":o.value.google||o.value.apple}]),onClick:l[0]||(l[0]=a=>n("google")),disabled:o.value.google||o.value.apple},[o.value.google?(d(),f("div",L,[...l[2]||(l[2]=[t("svg",{class:"animate-spin h-5 w-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):(d(),f("img",R)),l[3]||(l[3]=t("span",{class:"text-gray-700 font-medium text-sm"},"Google",-1))],10,U),t("button",{type:"button",class:x(["flex justify-center items-center w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow transform active:scale-95 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200",{"opacity-70 cursor-not-allowed":o.value.google||o.value.apple}]),onClick:l[1]||(l[1]=a=>n("apple")),disabled:o.value.google||o.value.apple},[o.value.apple?(d(),f("div",G,[...l[4]||(l[4]=[t("svg",{class:"animate-spin h-5 w-5 text-gray-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):(d(),f("img",H)),l[5]||(l[5]=t("span",{class:"text-gray-700 font-medium text-sm"},"Apple",-1))],10,D)]))}},q={class:"w-full"},F={class:"flex items-center justify-between mb-6"},Z={class:"flex items-center"},J={class:"mt-8 text-center text-sm text-gray-500"},te={__name:"LoginView",setup(S){const b=C(),o=c(""),g=c(""),y=c(!1),n=c(!1),s=c({}),l=()=>{s.value={},o.value?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value)||(s.value.email="Please enter a valid email address"):s.value.email="Email address is required",g.value||(s.value.password="Password is required");const r=Object.keys(s.value).length===0;if(!r){const e=Object.values(s.value)[0];v.error(e)}return r},a=()=>{if(l()){v.success("Welcome back!",{transition:v.TRANSITIONS.ZOOM}),localStorage.setItem("isAuthenticated","true");const r=o.value.split("@")[0],e=r.charAt(0).toUpperCase()+r.slice(1);localStorage.setItem("userName",e),setTimeout(()=>{b.push("/")},500)}};return(r,e)=>{const u=_("router-link");return d(),k(E,{title:"Complete your",subtitle:"Medical Story. One Platform.",badgeText:"Everything is Running Smoothly",badgeColor:"text-green-400 bg-green-400",tipTitle:"Daily Tip",tipText:"Drink water throughout the day to boost energy and support overall health."},{description:m(()=>[...e[4]||(e[4]=[w(" Track your results, view your records, and manage everything in one seamless experience. ",-1)])]),default:m(()=>[t("div",q,[e[10]||(e[10]=t("h2",{class:"text-3xl font-bold text-gray-900 mb-2"},"Welcome Back",-1)),e[11]||(e[11]=t("p",{class:"text-gray-500 mb-8"},"Access your personal medical record securely.",-1)),t("form",{onSubmit:V(a,["prevent"])},[p($,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value=i),label:"Email Address",placeholder:"Enter your email",type:"email",icon:h(P),error:s.value.email},null,8,["modelValue","icon","error"]),p($,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=i=>g.value=i),label:"Password",placeholder:"Enter your password",type:n.value?"text":"password",icon:h(j),error:s.value.password},{append:m(()=>[t("button",{type:"button",onClick:e[1]||(e[1]=i=>n.value=!n.value),class:"text-gray-400 hover:text-gray-600 focus:outline-none"},[(d(),k(N(n.value?h(z):h(M)),{class:"h-5 w-5"}))])]),_:1},8,["modelValue","type","icon","error"]),t("div",F,[t("label",Z,[T(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=i=>y.value=i),class:"w-4 h-4 text-brand-600 border-gray-300 rounded focus:ring-brand-500"},null,512),[[I,y.value]]),e[5]||(e[5]=t("span",{class:"ml-2 text-sm text-gray-600"},"Remember me",-1))]),p(u,{to:"/forgot-password",class:"text-sm font-medium text-brand-600 hover:text-brand-500"},{default:m(()=>[...e[6]||(e[6]=[w(" Forget password? ",-1)])]),_:1})]),p(B,{block:"",type:"submit"},{default:m(()=>[...e[7]||(e[7]=[w("Login",-1)])]),_:1})],32),e[12]||(e[12]=t("div",{class:"relative mt-8 mb-8"},[t("div",{class:"absolute inset-0 flex items-center"},[t("div",{class:"w-full border-t border-gray-200"})]),t("div",{class:"relative flex justify-center text-sm"},[t("span",{class:"px-4 bg-white text-gray-400 uppercase"},"Or continue with")])],-1)),p(W),t("p",J,[e[9]||(e[9]=w(" New patient? ",-1)),p(u,{to:"/register",class:"font-semibold text-brand-600 hover:text-brand-500"},{default:m(()=>[...e[8]||(e[8]=[w(" sign up for free ",-1)])]),_:1})])])]),_:1})}}};export{te as default};
